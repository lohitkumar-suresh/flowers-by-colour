<div class="container">
  <header>
    <h1>{{ title }}</h1>
    <p class="subtitle">Enjoy beautiful flower photos. Filter by your favourite colour.</p>
  </header>

  <section class="controls">
    <div class="filters" role="group" aria-label="Filter by colour">
      <button
        *ngFor="let f of filters"
        (click)="onFilterClick(f.key)"
        [class.active]="selectedFilter === f.key"
        class="chip"
        type="button"
      >
        {{ f.label }}
      </button>
    </div>

    <div class="counts">
      <span *ngIf="!error">
        Showing <strong>{{ displayedCount }}</strong>
        of <strong>{{ total }}</strong> results
        <span *ngIf="pages > 1"> (page {{ page }} of {{ pages }})</span>
      </span>
      <span *ngIf="error" class="error">{{ error }}</span>
    </div>
  </section>

  <section class="grid" aria-live="polite">
    <ng-container *ngIf="photos?.length; else empty">
      <article class="card" *ngFor="let p of photos; ">
        <img [src]="p.url" [alt]="p.alt" loading="lazy" />
        <h3 class="title" [title]="p.title">{{ p.title || 'Flower' }}</h3>
      </article>
    </ng-container>

    <ng-template #empty>
      <div class="empty" *ngIf="!loading && !error">
        No photos yet. Try a different filter.
      </div>
    </ng-template>
  </section>

  <section class="actions">
    <button type="button" (click)="onMore()" [disabled]="!canLoadMore" class="more-btn">
      <span *ngIf="!loading">More flowers</span>
      <span *ngIf="loading">Loadingâ€¦</span>
    </button>
  </section>
</div>